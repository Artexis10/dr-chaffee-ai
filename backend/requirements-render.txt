# Minimal requirements for Render production deployment
# Includes sentence-transformers for BGE-small embeddings (384-dim, lightweight)
# Heavy packages like torch are only needed for ingestion scripts (run separately)

# Core database
psycopg2-binary>=2.9.9
sqlalchemy>=2.0.07
python-dotenv==1.2.1
alembic>=1.13.0  # Database migrations (required for pre-deploy)

# Web API (FastAPI + ASGI server)
fastapi==0.124.0
uvicorn[standard]==0.38.0
python-multipart==0.0.20  # Required for file upload endpoints (updated for security)

# Embeddings (BGE-small for search queries)
# Use CPU-only PyTorch to avoid 2.5GB of CUDA dependencies (Render has no GPU)
--extra-index-url https://download.pytorch.org/whl/cpu
torch>=2.0.0
sentence-transformers>=2.2.0  # Lightweight model for /embed endpoint

# HTTP client for API calls
requests>=2.31.0

# OpenAI for answer generation (lightweight SDK)
openai>=1.0.0
